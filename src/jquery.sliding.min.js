/*!
 * Sliding 1.0.0
 *
 * Copyright Â© Capiner https://capiner.com
 * MIT License https://github.com/capiner/sliding/blob/master/LICENSE
 */
(function(b){var a=0,c=0;b(window).scroll(function(){a=b(this).scrollTop()});b.Sliding=function(d,e){this.e=b(e);this.o=b.extend(true,{},b.Sliding.defaults,d);this.init()};b.Sliding.prototype={init:function(){var e=this,d;if(e.o.opener){e.e.find(e.o.openerClass).empty().append(e.o.opener)}if(e.o.closer){e.o.closerTitle?e.e.find(".closer").empty().append(e.o.closer):e.e.find(e.o.closerClass).empty().append(e.o.closer)}if(e.o.opened){e.e.find(e.o.contentClass).css("display","block").addClass("open");e.o.openerType=="icon"?e.e.find(e.o.openerClass).parent().parent().addClass("active"):e.e.find(e.o.openerClass).parent().addClass("active")}else{e.e.find(e.o.contentClass).css("display","none");if(e.o.animate){e.e.find(e.o.contentClass).css(e.o.closerAnimate)}}if(e.o.openerType=="link"){e.e.find(e.o.openerClass).parent().addClass("opener-link")}e.e.find(e.o.openerType=="link"?".opener-link":e.o.openerClass).on("click",function(){if(e.e.hasClass(e.o.hasClass)){if(b(this).parent().hasClass("active")){e.o.openerType=="icon"?d=b(this).parent().siblings(e.o.contentClass):d=b(this).siblings(e.o.contentClass);e.closing(d)}else{e.o.openerType=="icon"?d=b(this).parent().parent():d=b(this).parent();e.opening(d)}return false}});e.e.find(e.o.closerClass).on("click",function(){if(e.e.hasClass(e.o.hasClass)){if(e.o.closingClass){d=e.e.find(e.o.closingClass)}else{e.o.closerTitle?d=b(this).parent():d=b(this).parent().parent()}e.closing(d);return false}})},opening:function(e){var d=this,f;e.addClass("active");d.e.addClass("active").find(d.o.firstClass).css({"overflow-x":"hidden","overflow-y":"hidden"}).scrollTop(0);f=e.children(d.o.contentClass).stop(true,true).addClass("open");if(d.o.overflow){d.e.find(d.o.contentClass).css({"overflow-x":"hidden","overflow-y":"hidden"}).scrollTop(0);f.css({"overflow-x":"hidden","overflow-y":"auto"})}if(d.o.animate){f.css("display","block").animate(d.o.openerAnimate,d.o.speed,d.o.easing)}else{d.o.effect=="fade"?f.fadeIn(d.o.speed,d.o.easing):f.slideDown(d.o.speed,d.o.easing)}if(d.o.scrollClass){b("html").addClass(d.o.scrollClass).css("top","-"+(c=a)+"px")}b("html").addClass(d.o.activeClass)},closing:function(e){var d=this,f;e.removeClass("open").parent().removeClass("active");f=d.e.find(d.o.contentClass).stop(true,true);if(d.o.overflow){f.css({"overflow-x":"hidden","overflow-y":"hidden"}).scrollTop(0);d.e.find(".open:last").css({"overflow-x":"hidden","overflow-y":"auto"})}if(d.o.animate){e.animate(d.o.closerAnimate,d.o.speed,d.o.easing).hide(d.o.speed,d.o.easing)}else{d.o.effect=="fade"?e.fadeOut(d.o.speed,d.o.easing):e.slideUp(d.o.speed,d.o.easing)}if(d.o.scrollClass){b("html,body").removeClass(d.o.scrollClass).css("top","").scrollTop(c)}setTimeout(function(){b("html").removeClass(d.o.activeClass)},d.o.speed);if(d.e.hasClass("open")&&!f.hasClass("open")){d.e.removeClass("active").find(d.o.firstClass).css({"overflow-x":"hidden","overflow-y":"auto"})}}};b.fn.Sliding=function(e){if(typeof e==="string"){var d=Array.prototype.slice.call(arguments,1);this.each(function(){var f=b.data(this,"Sliding");f[e].apply(f,d)})}else{this.each(function(){var f=b.data(this,"Sliding");if(!f){b.data(this,"Sliding",new b.Sliding(e,this))}})}return this};b.Sliding.defaults={hasClass:"sliding",firstClass:null,openerType:"link",openerClass:".opener",closerTitle:false,closerClass:".closer",contentClass:"ul",closingClass:null,scrollClass:null,activeClass:null,overflow:true,opened:false,animate:false,openerAnimate:null,closerAnimate:null,effect:"fade",speed:300,easing:"swing",opener:null,closer:null}})(jQuery);